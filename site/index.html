<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Almost Vault</title>
  </head>
  <body>
    <div class="mx-auto max-w-2xl p-4">
      <div class="py-20">
        <div class="w-full mb-6 flex justify-center">
          <img class="w-20" src="/icon.svg" alt="Logo" />
        </div>

        <h1 class="text-5xl tracking-wider text-center font-bold">
          Almost Vault
        </h1>
        <p class="text-center mt-6 text-neutral-300">
          Quickly share passwords and secrets.<br />Secure, modern, simple.
        </p>

        <div class="flex justify-center mt-4 gap-4">
          <a
            class="text-center underline text-neutral-500"
            href="#"
            target="_blank"
            >Case study</a
          >

          <a
            class="text-center underline text-neutral-500"
            href="https://github.com/Meldiron/almost-vault"
            target="_blank"
            >GitHub</a
          >
        </div>
      </div>

      <div x-data="tabs" class="tabs w-full" id="encrypt-decrypt-tabs">
        <nav role="tablist" aria-orientation="horizontal" class="w-full">
          <button
            type="button"
            role="tab"
            id="encrypt-tab"
            aria-controls="encrypt-panel"
            x-bind:aria-selected="tab === 'encrypt'"
            x-on:click="tab = 'encrypt'"
            tabindex="0"
          >
            Encrypt
          </button>

          <button
            type="button"
            role="tab"
            id="decrypt-tab"
            aria-controls="decrypt-panel"
            x-bind:aria-selected="tab === 'decrypt'"
            x-on:click="tab = 'decrypt'"
            tabindex="0"
          >
            Decrypt
          </button>
        </nav>

        <div
          x-data="encrypt"
          role="tabpanel"
          id="encrypt-panel"
          aria-labelledby="encrypt-tab"
          tabindex="-1"
          x-bind:aria-selected="tab === 'encrypt'"
          x-show="tab === 'encrypt'"
        >
          <div class="card">
            <header>
              <h2>Encrypt</h2>
              <p>
                Store a secret securely. Once created, you will recieve URL to
                share with anyone.
              </p>
            </header>
            <section>
              <form x-on:submit.prevent="createRow()" class="form grid gap-6">
                <div class="grid gap-3">
                  <label for="secret">Secret</label>
                  <textarea
                    x-model="secret"
                    minlength="1"
                    maxlength="2048"
                    required="required"
                    id="secret"
                    autofocus="autofocus"
                    class="textarea h-32"
                    placeholder="sk-proj-BGzj9S7CTp-zQqD4LbYt6f9y4GLMFtuUHjkozifULm2EadDjL-yXw3UWRovQTTef84f3eE9fgs34S04LibiZyLvw77A9fsVSscLJq-89RMJdx3n7UbWii7KHAHbfFScQooSltz7xLVxAviE2x76p9..."
                  ></textarea>
                </div>
                <div
                  class="flex items-center justify-between flex-col sm:flex-row gap-4 w-full"
                >
                  <div class="grid gap-3 w-full">
                    <label for="ttl">Time-to-live</label>
                    <select
                      x-model="ttl"
                      required="required"
                      id="ttl"
                      class="select w-full sm:w-[180px]"
                    >
                      <option value="hour">An Hour</option>
                      <option value="day">A Day</option>
                      <option value="week">A Week</option>
                      <option value="month">A Month</option>
                      <option value="year">A Year</option>
                    </select>
                  </div>

                  <div class="grid gap-3 w-full sm:justify-end sm:items-end">
                    <label for="reads">Reads allowed</label>
                    <input
                      x-model="reads"
                      class="input w-full sm:w-[180px]"
                      id="reads"
                      type="number"
                      required="required"
                      value="1"
                      placeholder="1"
                      min="1"
                      max="1000"
                    />
                  </div>
                </div>

                <footer>
                  <button
                    x-bind:disabled="creating || !secret || !ttl || !reads"
                    type="submit"
                    class="btn w-full"
                  >
                    Encrypt my secret
                  </button>
                </footer>
              </form>
            </section>
          </div>

          <div
            x-show="row"
            class="card bg-green-950/[var(--bg-opacity)] [--bg-opacity:50%] border-green-900 mt-4"
          >
            <header>
              <h2>Your encrypted secret was successfully created</h2>
              <p>Share your secret with anyone in the world.</p>
            </header>
            <section class="text-sm">
              <p>Summary:</p>
              <ol class="mt-4 flex list-decimal flex-col gap-2 pl-6">
                <li>
                  Your secret can be read
                  <b
                    x-text="row.reads + (row.reads === 1 ? ' time' : ' times')"
                  ></b>
                </li>
                <li>
                  Secret is available for
                  <b>1 <span x-text="row.ttl"></span></b>
                </li>
                <li>Secret value is <b>securely encrypted</b></li>
              </ol>
            </section>
            <footer class="flex sm:flex-row flex-col gap-2 items-center">
              <button
                x-on:click="copyShareableUrl()"
                class="btn w-full sm:w-[fit-content]"
              >
                Copy sharable URL
              </button>
              <button
                x-on:click="copySecretId()"
                class="btn-outline w-full sm:w-[fit-content]"
              >
                Copy secret ID
              </button>
            </footer>
          </div>
        </div>

        <div
          x-data="decrypt"
          role="tabpanel"
          id="decrypt-panel"
          aria-labelledby="decrypt-tab"
          tabindex="-1"
          x-bind:aria-selected="tab === 'decrypt'"
          x-show="tab === 'decrypt'"
        >
          <div class="card">
            <header>
              <h2>Decrypt</h2>
              <p>
                Read a secret value using secret ID provided when creating a
                secret.
              </p>
            </header>
            <section>
              <form x-on:submit.prevent="getRow()" class="form grid gap-6">
                <div class="grid gap-3">
                  <label for="secret-id">Secret ID</label>
                  <input
                    x-model="id"
                    type="text"
                    placeholder="sec_68b2ad1e001..."
                    id="secret-id"
                  />
                </div>
                <footer>
                  <button
                    x-bind:disabled="reading || !id"
                    type="submit"
                    class="btn w-full"
                  >
                    Decrypt the secret
                  </button>
                </footer>
              </form>
            </section>
          </div>
        </div>
      </div>

      <div class="py-20">
        <h1 class="text-5xl tracking-wider text-center font-bold">FAQ</h1>
        <p class="text-center mt-6 text-neutral-300">
          Frequently asked questions about the service.
        </p>
      </div>

      <section class="accordion">
        <details class="group border-b last:border-b-0">
          <summary
            class="w-full focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-all outline-none rounded-md"
          >
            <h2
              class="flex flex-1 items-start justify-between gap-4 py-4 text-left text-sm font-medium hover:underline"
            >
              What is Almost Vault?
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200 group-open:rotate-180"
              >
                <path d="m6 9 6 6 6-6" />
              </svg>
            </h2>
          </summary>
          <section class="pb-4">
            <p class="text-sm">
              Almost Vault is free and open-source platform to share secrets
              with anyone, anywhere. A secret is created and stored securely.
              You can limit amount of reads, and configure when your secret's
              URL expires.
            </p>
          </section>
        </details>
        <details class="group border-b last:border-b-0">
          <summary
            class="w-full focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-all outline-none rounded-md"
          >
            <h2
              class="flex flex-1 items-start justify-between gap-4 py-4 text-left text-sm font-medium hover:underline"
            >
              Is Almost Vault free?
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200 group-open:rotate-180"
              >
                <path d="m6 9 6 6 6-6" />
              </svg>
            </h2>
          </summary>
          <section class="pb-4">
            <p class="text-sm">
              Yes, it's free and open-source. You can use it for infimite
              encryptions and decriptions, with no ads. If services ever go
              offline, you can self-host it using the source code available on
              GitHub.
            </p>
          </section>
        </details>
        <details class="group border-b last:border-b-0">
          <summary
            class="w-full focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-all outline-none rounded-md"
          >
            <h2
              class="flex flex-1 items-start justify-between gap-4 py-4 text-left text-sm font-medium hover:underline"
            >
              Is Almost Vault secure? How?
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200 group-open:rotate-180"
              >
                <path d="m6 9 6 6 6-6" />
              </svg>
            </h2>
          </summary>
          <section class="pb-4">
            <p class="text-sm">
              Yes, Almost Vault is secure. By using AES-256, industry-standard
              encryption, we store your data in unreadable format. This means
              secrets are <b>NOT</b> stored in plain text. We advise anyone
              curious to also check out the source code on GitHub to verify our
              security practices.
            </p>
          </section>
        </details>
        <details class="group border-b last:border-b-0">
          <summary
            class="w-full focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-all outline-none rounded-md"
          >
            <h2
              class="flex flex-1 items-start justify-between gap-4 py-4 text-left text-sm font-medium hover:underline"
            >
              Can I get in touch?
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200 group-open:rotate-180"
              >
                <path d="m6 9 6 6 6-6" />
              </svg>
            </h2>
          </summary>
          <section>
            <p class="text-sm">
              If you need help, please reach out to us via email at
              <code>contact@almostapps.eu</code>
            </p>
          </section>
        </details>
      </section>

      <div
        class="mt-12 w-full h-[1px] bg-gradient-to-r from-transparent via-neutral-600 to-transparent"
      ></div>

      <div
        class="mt-4 mb-2 flex gap-1.5 items-center justify-center text-neutral-300 text-sm"
      >
        <p>Powered by</p>
        <a
          class="flex items-center justify-center gap-1.5 hover:underline hover:text-white"
          href="https://appwrite.io/"
          target="_blank"
          class=""
        >
          <img src="/appwrite.svg" class="size-4" />

          <p>Appwrite</p></a
        >
      </div>
    </div>

    <div id="toaster" class="toaster"></div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
